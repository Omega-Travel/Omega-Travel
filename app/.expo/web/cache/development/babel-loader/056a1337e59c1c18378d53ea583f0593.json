{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Fido\\\\Documents\\\\GitHub\\\\UI-Design-React\\\\app\\\\screens\\\\PlaceDetail\\\\PlaceReviews\\\\AddReview\\\\index.tsx\";\nimport React from 'react';\nimport { Layout } from \"./Layout\";\nimport { useAuth } from \"../../../../hooks/useAuth\";\nimport { useReview } from \"./hooks/useReview\";\nimport { useSetNavigationOptions } from \"../../../../hooks/useSetNavigationOptions\";\nimport { useRoute } from '@react-navigation/native';\nexport var AddReview = function AddReview(_ref) {\n  var navigation = _ref.navigation;\n  var route = useRoute();\n  var placeId = route.params.placeId;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      loading = _React$useState2[0],\n      setLoading = _React$useState2[1];\n\n  var _useAuth = useAuth(),\n      token = _useAuth.token;\n\n  var _useReview = useReview({\n    placeId: placeId,\n    userId: token\n  }),\n      state = _useReview.state,\n      handleChange = _useReview.handleChange,\n      handleSubmit = _useReview.handleSubmit;\n\n  useSetNavigationOptions(\"Add Review\", false);\n\n  var handleAdd = function handleAdd() {\n    var data;\n    return _regeneratorRuntime.async(function handleAdd$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setLoading(true);\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(handleSubmit());\n\n          case 3:\n            data = _context.sent;\n            console.log(\"Data\", data);\n\n            if (data.registerReview) {\n              navigation.goBack();\n            }\n\n            setLoading(false);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(Layout, {\n    state: state,\n    handleChange: handleChange,\n    handleAdd: handleAdd,\n    loading: loading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 12\n    }\n  });\n};","map":{"version":3,"sources":["C:/Users/Fido/Documents/GitHub/UI-Design-React/app/screens/PlaceDetail/PlaceReviews/AddReview/index.tsx"],"names":["React","Layout","useAuth","useReview","useSetNavigationOptions","useRoute","AddReview","navigation","route","placeId","params","useState","loading","setLoading","token","userId","state","handleChange","handleSubmit","handleAdd","data","console","log","registerReview","goBack"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT;AACA,SAASC,OAAT;AACA,SAASC,SAAT;AACA,SAASC,uBAAT;AACA,SAASC,QAAT,QAAyB,0BAAzB;AAEA,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,OAAoB;AAAA,MAAjBC,UAAiB,QAAjBA,UAAiB;AACzC,MAAMC,KAAS,GAAGH,QAAQ,EAA1B;AACA,MAAMI,OAAO,GAAGD,KAAK,CAACE,MAAN,CAAaD,OAA7B;;AAFyC,wBAIXT,KAAK,CAACW,QAAN,CAAe,KAAf,CAJW;AAAA;AAAA,MAIlCC,OAJkC;AAAA,MAIzBC,UAJyB;;AAAA,iBAKvBX,OAAO,EALgB;AAAA,MAKjCY,KALiC,YAKjCA,KALiC;;AAAA,mBAMKX,SAAS,CAAC;AAACM,IAAAA,OAAO,EAAEA,OAAV;AAAmBM,IAAAA,MAAM,EAAED;AAA3B,GAAD,CANd;AAAA,MAMjCE,KANiC,cAMjCA,KANiC;AAAA,MAM1BC,YAN0B,cAM1BA,YAN0B;AAAA,MAMZC,YANY,cAMZA,YANY;;AAOzCd,EAAAA,uBAAuB,CAAC,YAAD,EAAe,KAAf,CAAvB;;AAEA,MAAMe,SAAS,GAAE,SAAXA,SAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AACbN,YAAAA,UAAU,CAAC,IAAD,CAAV;AADa;AAAA,6CAGMK,YAAY,EAHlB;;AAAA;AAGPE,YAAAA,IAHO;AAIbC,YAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBF,IAApB;;AACA,gBAAGA,IAAI,CAACG,cAAR,EAAwB;AACpBhB,cAAAA,UAAU,CAACiB,MAAX;AACH;;AAEDX,YAAAA,UAAU,CAAC,KAAD,CAAV;;AATa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AAYA,SAAO,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAEG,KAAf;AAAsB,IAAA,YAAY,EAAEC,YAApC;AAAkD,IAAA,SAAS,EAAEE,SAA7D;AAAwE,IAAA,OAAO,EAAEP,OAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACH,CAtBM","sourcesContent":["import React from 'react';\r\nimport { Layout } from './Layout';\r\nimport { useAuth } from '../../../../hooks/useAuth';\r\nimport { useReview } from './hooks/useReview';\r\nimport { useSetNavigationOptions } from '../../../../hooks/useSetNavigationOptions';\r\nimport { useRoute } from '@react-navigation/native';\r\n\r\nexport const AddReview = ({ navigation }) => {\r\n    const route:any = useRoute();\r\n    const placeId = route.params.placeId;\r\n\r\n    const [loading, setLoading] = React.useState(false);\r\n    const { token } = useAuth();\r\n    const { state, handleChange, handleSubmit } = useReview({placeId: placeId, userId: token})\r\n    useSetNavigationOptions(\"Add Review\", false);\r\n    \r\n    const handleAdd =async () => {\r\n        setLoading(true);\r\n\r\n        const data = await handleSubmit();\r\n        console.log(\"Data\", data);\r\n        if(data.registerReview) {\r\n            navigation.goBack();\r\n        }\r\n\r\n        setLoading(false);\r\n    }\r\n\r\n    return <Layout state={state} handleChange={handleChange} handleAdd={handleAdd} loading={loading} />\r\n}"]},"metadata":{},"sourceType":"module"}