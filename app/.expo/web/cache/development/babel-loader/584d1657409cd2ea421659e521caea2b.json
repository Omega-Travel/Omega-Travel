{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"\\n    mutation Review($input: RegisterReview!)  {\\n        registerReview(input: $input)\\n        {\\n            id,\\n            description,\\n            rating,\\n            placeId,\\n            userId\\n        }\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { gql } from \"apollo-boost\";\nimport { useForm } from \"../../../../../hooks/useForm\";\nvar REVIEW_MUTATION = gql(_templateObject());\nexport var useReview = function useReview(_ref) {\n  var placeId = _ref.placeId,\n      userId = _ref.userId;\n\n  var _useMutation = useMutation(REVIEW_MUTATION),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      addReview = _useMutation2[0];\n\n  var _useForm = useForm({\n    onSubmit: function onSubmit(_ref2) {\n      var values = _extends({}, _ref2);\n\n      return addReview({\n        variables: {\n          input: values\n        }\n      }).then(function (_ref3) {\n        var data = _ref3.data;\n        return data;\n      });\n    },\n    initialValues: {\n      rating: 0,\n      placeId: placeId,\n      userId: userId,\n      description: ''\n    }\n  }),\n      state = _useForm.state,\n      handleChange = _useForm.handleChange,\n      handleSubmit = _useForm.handleSubmit;\n\n  return {\n    state: state,\n    handleChange: handleChange,\n    handleSubmit: handleSubmit\n  };\n};","map":{"version":3,"sources":["C:/Users/Fido/Documents/GitHub/UI-Design-React/app/screens/PlaceDetail/PlaceReviews/AddReview/hooks/useReview.ts"],"names":["useMutation","gql","useForm","REVIEW_MUTATION","useReview","placeId","userId","addReview","onSubmit","values","variables","input","then","data","initialValues","rating","description","state","handleChange","handleSubmit"],"mappings":";;;;;;;;;;;;;;AAAA,SAASA,WAAT,QAA4B,qBAA5B;AACA,SAASC,GAAT,QAAoB,cAApB;AACA,SAASC,OAAT;AAEA,IAAMC,eAAe,GAAGF,GAAH,mBAArB;AAaA,OAAO,IAAMG,SAAS,GAAG,SAAZA,SAAY,OAAyB;AAAA,MAAtBC,OAAsB,QAAtBA,OAAsB;AAAA,MAAbC,MAAa,QAAbA,MAAa;;AAAA,qBAC1BN,WAAW,CAACG,eAAD,CADe;AAAA;AAAA,MACvCI,SADuC;;AAAA,iBAEAL,OAAO,CAAC;AACpDM,IAAAA,QAAQ,EAAE,yBAAmB;AAAA,UAAbC,MAAa;;AAC3B,aAAOF,SAAS,CAAC;AACbG,QAAAA,SAAS,EAAE;AACPC,UAAAA,KAAK,EAAEF;AADA;AADE,OAAD,CAAT,CAIJG,IAJI,CAIC,iBAAc;AAAA,YAAXC,IAAW,SAAXA,IAAW;AAClB,eAAOA,IAAP;AACH,OANM,CAAP;AAOD,KATmD;AAUpDC,IAAAA,aAAa,EAAE;AACbC,MAAAA,MAAM,EAAE,CADK;AAEbV,MAAAA,OAAO,EAAEA,OAFI;AAGbC,MAAAA,MAAM,EAAEA,MAHK;AAIbU,MAAAA,WAAW,EAAE;AAJA;AAVqC,GAAD,CAFP;AAAA,MAEtCC,KAFsC,YAEtCA,KAFsC;AAAA,MAE/BC,YAF+B,YAE/BA,YAF+B;AAAA,MAEjBC,YAFiB,YAEjBA,YAFiB;;AAmB9C,SAAO;AACLF,IAAAA,KAAK,EAALA,KADK;AAELC,IAAAA,YAAY,EAAZA,YAFK;AAGLC,IAAAA,YAAY,EAAZA;AAHK,GAAP;AAKH,CAxBM","sourcesContent":["import { useMutation } from \"@apollo/react-hooks\";\r\nimport { gql } from \"apollo-boost\";\r\nimport { useForm } from '../../../../../hooks/useForm';\r\n\r\nconst REVIEW_MUTATION = gql`\r\n    mutation Review($input: RegisterReview!)  {\r\n        registerReview(input: $input)\r\n        {\r\n            id,\r\n            description,\r\n            rating,\r\n            placeId,\r\n            userId\r\n        }\r\n    }\r\n`;\r\n\r\nexport const useReview = ({ placeId, userId }) => {\r\n    const [addReview] = useMutation(REVIEW_MUTATION);\r\n    const { state, handleChange, handleSubmit } = useForm({\r\n      onSubmit: ({ ...values }) => {\r\n        return addReview({\r\n            variables: {\r\n                input: values\r\n            },\r\n        }).then(({ data }) => {\r\n            return data;\r\n        });\r\n      },\r\n      initialValues: {\r\n        rating: 0,\r\n        placeId: placeId,\r\n        userId: userId,\r\n        description: ''\r\n      }\r\n    });\r\n    return {\r\n      state,\r\n      handleChange,\r\n      handleSubmit\r\n    };\r\n}"]},"metadata":{},"sourceType":"module"}