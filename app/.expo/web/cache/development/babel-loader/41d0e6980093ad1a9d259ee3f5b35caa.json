{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"\\n    query RegisterTrip($input: RegisterTrip!) {\\n        registerTrip(input: $input)\\n        {\\n            ok,\\n            error,\\n            trip {\\n                id,\\n                name,\\n                userId\\n            }\\n        }\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { gql } from \"apollo-boost\";\nimport { useForm } from \"../../../hooks/useForm\";\nvar TRIP_MUTATION = gql(_templateObject());\nexport var useTrip = function useTrip(_ref) {\n  var userId = _ref.userId;\n\n  var _useMutation = useMutation(TRIP_MUTATION),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      newTrip = _useMutation2[0];\n\n  var _useForm = useForm({\n    onSubmit: function onSubmit(_ref2) {\n      var values = _extends({}, _ref2);\n\n      return newTrip({\n        variables: {\n          input: values\n        }\n      }).then(function (_ref3) {\n        var data = _ref3.data;\n        return data;\n      });\n    },\n    initialValues: {\n      name: '',\n      userId: userId\n    }\n  }),\n      state = _useForm.state,\n      handleChange = _useForm.handleChange,\n      handleSubmit = _useForm.handleSubmit;\n\n  return {\n    state: state,\n    handleChange: handleChange,\n    handleSubmit: handleSubmit\n  };\n};","map":{"version":3,"sources":["C:/Users/Fido/Documents/GitHub/UI-Design-React/app/screens/NewTrip/hooks/tripHook.ts"],"names":["useMutation","gql","useForm","TRIP_MUTATION","useTrip","userId","newTrip","onSubmit","values","variables","input","then","data","initialValues","name","state","handleChange","handleSubmit"],"mappings":";;;;;;;;;;;;;;AAAA,SAASA,WAAT,QAA4B,qBAA5B;AACA,SAASC,GAAT,QAAoB,cAApB;AACA,SAASC,OAAT;AAEA,IAAMC,aAAa,GAAGF,GAAH,mBAAnB;AAeA,OAAO,IAAMG,OAAO,GAAG,SAAVA,OAAU,OAAgB;AAAA,MAAbC,MAAa,QAAbA,MAAa;;AAAA,qBACjBL,WAAW,CAACG,aAAD,CADM;AAAA;AAAA,MAC5BG,OAD4B;;AAAA,iBAEWJ,OAAO,CAAC;AACpDK,IAAAA,QAAQ,EAAE,yBAAmB;AAAA,UAAbC,MAAa;;AAC3B,aAAOF,OAAO,CAAC;AACbG,QAAAA,SAAS,EAAE;AACTC,UAAAA,KAAK,EAAEF;AADE;AADE,OAAD,CAAP,CAIJG,IAJI,CAIC,iBAAc;AAAA,YAAXC,IAAW,SAAXA,IAAW;AACpB,eAAOA,IAAP;AACD,OANM,CAAP;AAOD,KATmD;AAUpDC,IAAAA,aAAa,EAAE;AACbC,MAAAA,IAAI,EAAE,EADO;AAEbT,MAAAA,MAAM,EAAEA;AAFK;AAVqC,GAAD,CAFlB;AAAA,MAE3BU,KAF2B,YAE3BA,KAF2B;AAAA,MAEpBC,YAFoB,YAEpBA,YAFoB;AAAA,MAENC,YAFM,YAENA,YAFM;;AAiBnC,SAAO;AACLF,IAAAA,KAAK,EAALA,KADK;AAELC,IAAAA,YAAY,EAAZA,YAFK;AAGLC,IAAAA,YAAY,EAAZA;AAHK,GAAP;AAKH,CAtBM","sourcesContent":["import { useMutation } from \"@apollo/react-hooks\";\r\nimport { gql } from \"apollo-boost\";\r\nimport { useForm } from '../../../hooks/useForm';\r\n\r\nconst TRIP_MUTATION = gql`\r\n    query RegisterTrip($input: RegisterTrip!) {\r\n        registerTrip(input: $input)\r\n        {\r\n            ok,\r\n            error,\r\n            trip {\r\n                id,\r\n                name,\r\n                userId\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const useTrip = ({ userId }) => {\r\n    const [newTrip] = useMutation(TRIP_MUTATION);\r\n    const { state, handleChange, handleSubmit } = useForm({\r\n      onSubmit: ({ ...values }) => {\r\n        return newTrip({\r\n          variables: {\r\n            input: values\r\n          },\r\n        }).then(({ data }) => {\r\n          return data;\r\n        });\r\n      },\r\n      initialValues: {\r\n        name: '',\r\n        userId: userId\r\n      }\r\n    });\r\n    return {\r\n      state,\r\n      handleChange,\r\n      handleSubmit\r\n    };\r\n}"]},"metadata":{},"sourceType":"module"}